<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Product List</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script th:src="@{/products.js}"></script>
</head>
<body>
<div class="container mt-4">
    <h2 class="mb-4">Product List</h2>
    <a href="/products/add" class="btn btn-primary mb-3">Add New Product</a>
    
    <form th:action="@{/products}" method="get" class="mb-3 d-flex">
	    <input type="text" name="keyword" class="form-control me-2" th:value="${keyword}" placeholder="Search by ID or Name" required>
	    <button type="submit" class="btn btn-outline-primary">Search</button>
	</form>

<!--     <div th:if="${error}" class="alert alert-danger" role="alert"> -->
<!--         <span th:text="${error}"></span> -->
<!--     </div> -->
    <table class="table table-bordered table-hover">
        <thead class="table-dark">
            <tr>
                <th>#</th>
                <th>Product ID</th>
                <th>Name</th>
                <th>Category</th>
                <th>Price (â‚¹)</th>
                <th>Stock</th>
                <th>Tax (%)</th>
                <th>Description</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="product, iterStat : ${products}">
                <td th:text="${iterStat.count}">1</td>
                <td th:text="${product.productId}">P001</td>
                <td th:text="${product.productName}">Name</td>
                <td th:text="${product.category}">Category</td>
                <td th:text="${product.unitPrice}">100</td>
                <td th:text="${product.quantityInStock}">50</td>
                <td th:text="${product.taxPercent}">18</td>
                <td th:text="${product.description}">Details</td>
                <td>
                    <a th:href="@{'/products/edit/' + ${product.productId}}" class="btn btn-sm btn-warning">Edit</a>
                    <a th:href="@{'/products/delete/' + ${product.productId}}" 
                       onclick="return confirm('Are you sure to delete?')" 
                       class="btn btn-sm btn-danger">Delete</a>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</body>
</html>
